<div id="app">
    <nav id="navbar" class="navbar navbar-expand navbar-dark bg-primary sticky-top">
        <span *ngIf="isAuthenticated" class="gallery-navigation">
            <a *ngIf="!isGallery" routerLink="/gallery">
                <em class="fa fa-home"></em>
            </a>
            <em *ngIf="directories.length == 0 && isGallery" class="fa fa-home"></em>
            <a *ngIf="directories.length == 1 && !imageName" routerLink="/gallery">
                <em class="fa fa-level-up-alt fa-flip-horizontal"></em>
            </a>
            <a *ngIf="directories.length > 1 && !imageName" routerLink="/gallery{{ directories[directories.length - 2].id }}">
                <em class="fa fa-level-up-alt fa-flip-horizontal"></em>
            </a>
            <a *ngIf="imageName" routerLink="/gallery{{ directories[directories.length - 1].id }}">
                <em class="fa fa-level-up-alt fa-flip-horizontal"></em>
            </a>
        </span>
        <span *ngIf="isAuthenticated" class="gallery-navigation mx-auto ">
             <span *ngIf="directories.length >= 1">
                 <button id="breadcrumb-button" (click)="toggleBreadcrumbContent()">
                     &nbsp;
                     <span class="fa fa-caret-down"></span>
                     <span>&nbsp;</span>
                     <span *ngIf="!imageName">
                        {{ directories[directories.length - 1].name }}
                     </span>
                    <span *ngIf="imageName" >
                        {{ imageName }}
                    </span>
                    &nbsp;
                </button>
                <span id="breadcrumb-content">
                    <span *ngFor="let directory of directories; let directoryIndex = index;">
                        <a *ngIf="directoryIndex != 0 || imageName" routerLink="/gallery{{ directories[directories.length - 1 - directoryIndex].id }}" (click)="hideBreadcrumbContent()" >
                            {{ directories[directories.length - 1 - directoryIndex].name }}
                        </a>
                    </span>
                    <a routerLink="/gallery">
                        <em class="fa fa-home"></em>
                    </a>
                </span>
            </span>
            <a *ngIf="imageName" [downloadFile]="imageUrlPath">
                <em class="fa fa-download"></em>
                <img style="display: none" src="../assets/wait-spinner.svg">
            </a>
        </span>
        <span class="navbar-nav" *ngIf="isAuthenticated">
            <button id="user-menu-button" class="nav-link" (click)="toggleUserMenuContent()">
                <span class="fa fa-user"></span>
            </button>
            <span id="user-menu-content">
                <a class="nav-link" routerLink="change-password">
                    <em class="fa fa-key"></em>
                </a>
                <a class="nav-link" href="login" (click)="logout()">
                    <em class="fa fa-power-off"></em>
                </a>
            </span>
        </span>

        <ul class="navbar-nav ml-auto" *ngIf="!isAuthenticated">
            <li class="nav-item">
                <a href="login" class="nav-link" routerLink="login">
                    <em class="fa fa-sign-in-alt"></em>
                </a>
            </li>
        </ul>
    </nav>
    <div>
        <router-outlet></router-outlet>
    </div>
</div>
